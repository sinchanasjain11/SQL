

CREATE TABLE OldEmployee (
    empid       NUMBER,
    empname     VARCHAR2(100),
    dob         DATE,
    doj         DATE,
    job         VARCHAR2(50),
    salary      NUMBER(10, 2),
    deptid      NUMBER
);



CREATE OR REPLACE TRIGGER emp_del_trig
AFTER DELETE ON employee
FOR EACH ROW
DECLARE
    v_empno     employee.empid%TYPE;
    v_empname   employee.empname%TYPE;
    v_empdob    employee.dob%TYPE;
    v_empdoj    employee.doj%TYPE;
    v_empjob    employee.job%TYPE;
    v_empsalary employee.salary%TYPE;
    v_deptno    employee.deptid%TYPE;
BEGIN
    v_empno     := :OLD.empid;
    v_empname   := :OLD.empname;
    v_empdob    := :OLD.dob;
    v_empdoj    := :OLD.doj;
    v_empjob    := :OLD.job;       -- Note: This line seems to be missing in the image's variable assignment block but is present in the variable declaration.
    v_empsalary := :OLD.salary;
    v_deptno    := :OLD.deptid;

    -- Note: The INSERT statement in the image is missing the variable assignment for 'v_empjob'.
    -- Assuming the table OldEmployee has columns matching the declared variables in order:
    INSERT INTO oldemployee VALUES (v_empno, v_empname, v_empdob, v_empdoj, v_empjob, v_empsalary, v_deptno); 
END;
/


